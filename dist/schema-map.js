'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _wellknown = require('wellknown');

var _wellknown2 = _interopRequireDefault(_wellknown);

var _fulcrumDesktopPlugin = require('fulcrum-desktop-plugin');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//import pgformat from 'pg-format';
class SchemaMap {
  // * force 2d
  // * remove duplicate vertices
  static geomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `geography::STGeomFromText('${_wellknown2.default.stringify(geojsonGeometry)}', 4326)`;
  }

  // * force to multi
  // * force 2d
  // * remove duplicate vertices
  static multiGeomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return this.geomFromGeoJSON(geojsonGeometry);
    // return `ST_RemoveRepeatedPoints(ST_Force2D(ST_Multi(ST_GeomFromText(${ pgformat('%L', wkt.stringify(geojsonGeometry)) }, 4326))))`;
  }

  static geometry(latitude, longitude) {
    return { raw: this.geomFromGeoJSON({ type: 'Point', coordinates: [+longitude, +latitude] }) };
  }

  static trackGeometry(trackJSON) {
    if (trackJSON) {
      const track = new _fulcrumDesktopPlugin.core.Track('video', trackJSON);

      const geoJSON = track.toGeoJSONMultiLineString();

      if (geoJSON && geoJSON.geometry && geoJSON.geometry.coordinates.length && geoJSON.geometry.coordinates[0].length > 1) {
        return { raw: this.multiGeomFromGeoJSON(geoJSON) };
      }
    }

    return null;
  }

  static jsonValue(value) {
    return value != null ? JSON.stringify(value) : null;
  }

  static record(row, values) {
    // records are special since they're already table-ized in a different code path.
    return {
      row_id: row.rowID,
      row_resource_id: values.record_resource_id,
      form_id: row._formRowID,
      form_resource_id: row.formID,
      project_id: row._projectRowID,
      project_resource_id: row._projectID,
      assigned_to_id: row._assignedToRowID,
      assigned_to_resource_id: row._assignedToID,
      status: values.status,
      latitude: values.latitude,
      longitude: values.longitude,
      created_at: values.created_at,
      updated_at: values.updated_at,
      version: values.version,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      server_created_at: values.server_created_at,
      server_updated_at: values.server_updated_at,
      record_index_text: values.record_index_text,
      record_index: values.record_index,
      geometry: values.geometry,
      altitude: values.altitude,
      speed: values.speed,
      course: values.course,
      horizontal_accuracy: values.horizontal_accuracy,
      vertical_accuracy: values.vertical_accuracy,
      form_values: values.form_values,
      changeset_id: row._changesetRowID,
      changeset_resource_id: row._changesetID,
      title: row.displayValue,
      created_latitude: values.created_latitude,
      created_longitude: values.created_longitude,
      created_geometry: values.created_geometry,
      created_altitude: values.created_altitude,
      created_horizontal_accuracy: values.created_horizontal_accuracy,
      updated_latitude: values.updated_latitude,
      updated_longitude: values.updated_longitude,
      updated_geometry: values.updated_geometry,
      updated_altitude: values.updated_altitude,
      updated_horizontal_accuracy: values.updated_horizontal_accuracy,
      created_duration: values.created_duration,
      updated_duration: values.updated_duration,
      edited_duration: values.edited_duration
    };
  }

  static photo(row) {
    const hasLocation = row._latitude != null && row._longitude != null;

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      exif: this.jsonValue(row._exif),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: hasLocation ? this.geometry(row._latitude, row._longitude) : null,
      latitude: hasLocation ? row._latitude : null,
      longitude: hasLocation ? row._longitude : null,
      altitude: row._altitude,
      direction: row._direction,
      accuracy: row._accuracy,
      width: row._width,
      height: row._height,
      make: row._make,
      model: row._model,
      software: row._software,
      date_time: row._dateTime
    };
  }

  static video(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      width: row._width,
      height: row._height,
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static audio(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static changeset(row) {
    const geometry = this.geomFromGeoJSON(row.boundingBoxAsGeoJSON);

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      closed_at: row._closedAt,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      closed_by_id: row._closedByRowID,
      closed_by_resource_id: row._closedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      min_lat: row._minLat,
      max_lat: row._maxLat,
      min_lon: row._minLon,
      max_lon: row._maxLon,
      number_of_changes: row._numberOfChanges,
      number_of_creates: row._numberOfCreates,
      number_of_updates: row._numberOfUpdates,
      number_of_deletes: row._numberOfDeletes,
      metadata_index_text: row._metadataIndexText,
      metadata_index: row._metadataIndexText,
      bounding_box: geometry ? { raw: this.geomFromGeoJSON(row.boundingBoxAsGeoJSON) } : null
    };
  }

  static choiceList(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._choicesJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static classificationSet(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._itemsJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static form(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      elements: this.jsonValue(row._elementsJSON),
      status: row._status,
      status_field: this.jsonValue(row._statusFieldJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      auto_assign: row._autoAssign,
      title_field_keys: this.jsonValue(row._titleFieldKeys),
      hidden_on_dashboard: row._hiddenOnDashboard,
      geometry_types: this.jsonValue(row._geometryTypes),
      geometry_required: row._geometryRequired,
      script: row._script,
      image: row._image,
      projects_enabled: !!row._projectEnabled,
      assignment_enabled: !!row._assignmentEnabled
    };
  }

  static project(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static role(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      is_system: row._isSystem,
      is_default: row._isDefault,
      can_manage_subscription: row.canManageSubscription,
      can_update_organization: row.canUpdateOrganization,
      can_manage_members: row.canManageMembers,
      can_manage_roles: row.canManageRoles,
      can_manage_apps: row.canManageApps,
      can_manage_projects: row.canManageProjects,
      can_manage_choice_lists: row.canManageChoiceLists,
      can_manage_classification_sets: row.canManageClassificationSets,
      can_create_records: row.canCreateRecords,
      can_update_records: row.canUpdateRecords,
      can_delete_records: row.canDeleteRecords,
      can_change_status: row.canChangeStatus,
      can_change_project: row.canChangeProject,
      can_assign_records: row.canAssignRecords,
      can_import_records: row.canImportRecords,
      can_export_records: row.canExportRecords,
      can_run_reports: row.canRunReports
    };
  }

  static membership(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      user_resource_id: row._userID,
      first_name: row._firstName,
      last_name: row._lastName,
      name: (row._firstName || '') + ' ' + (row._lastName || ''),
      email: row._email,
      role_id: row._roleRowID,
      role_resource_id: row._roleID,
      status: row.status,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }
}
exports.default = SchemaMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NjaGVtYS1tYXAuanMiXSwibmFtZXMiOlsiU2NoZW1hTWFwIiwiZ2VvbUZyb21HZW9KU09OIiwiZ2VvanNvbkdlb21ldHJ5Iiwic3RyaW5naWZ5IiwibXVsdGlHZW9tRnJvbUdlb0pTT04iLCJnZW9tZXRyeSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicmF3IiwidHlwZSIsImNvb3JkaW5hdGVzIiwidHJhY2tHZW9tZXRyeSIsInRyYWNrSlNPTiIsInRyYWNrIiwiVHJhY2siLCJnZW9KU09OIiwidG9HZW9KU09OTXVsdGlMaW5lU3RyaW5nIiwibGVuZ3RoIiwianNvblZhbHVlIiwidmFsdWUiLCJKU09OIiwicmVjb3JkIiwicm93IiwidmFsdWVzIiwicm93X2lkIiwicm93SUQiLCJyb3dfcmVzb3VyY2VfaWQiLCJyZWNvcmRfcmVzb3VyY2VfaWQiLCJmb3JtX2lkIiwiX2Zvcm1Sb3dJRCIsImZvcm1fcmVzb3VyY2VfaWQiLCJmb3JtSUQiLCJwcm9qZWN0X2lkIiwiX3Byb2plY3RSb3dJRCIsInByb2plY3RfcmVzb3VyY2VfaWQiLCJfcHJvamVjdElEIiwiYXNzaWduZWRfdG9faWQiLCJfYXNzaWduZWRUb1Jvd0lEIiwiYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQiLCJfYXNzaWduZWRUb0lEIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJ2ZXJzaW9uIiwiY3JlYXRlZF9ieV9pZCIsIl9jcmVhdGVkQnlSb3dJRCIsImNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQiLCJfY3JlYXRlZEJ5SUQiLCJ1cGRhdGVkX2J5X2lkIiwiX3VwZGF0ZWRCeVJvd0lEIiwidXBkYXRlZF9ieV9yZXNvdXJjZV9pZCIsIl91cGRhdGVkQnlJRCIsInNlcnZlcl9jcmVhdGVkX2F0Iiwic2VydmVyX3VwZGF0ZWRfYXQiLCJyZWNvcmRfaW5kZXhfdGV4dCIsInJlY29yZF9pbmRleCIsImFsdGl0dWRlIiwic3BlZWQiLCJjb3Vyc2UiLCJob3Jpem9udGFsX2FjY3VyYWN5IiwidmVydGljYWxfYWNjdXJhY3kiLCJmb3JtX3ZhbHVlcyIsImNoYW5nZXNldF9pZCIsIl9jaGFuZ2VzZXRSb3dJRCIsImNoYW5nZXNldF9yZXNvdXJjZV9pZCIsIl9jaGFuZ2VzZXRJRCIsInRpdGxlIiwiZGlzcGxheVZhbHVlIiwiY3JlYXRlZF9sYXRpdHVkZSIsImNyZWF0ZWRfbG9uZ2l0dWRlIiwiY3JlYXRlZF9nZW9tZXRyeSIsImNyZWF0ZWRfYWx0aXR1ZGUiLCJjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kiLCJ1cGRhdGVkX2xhdGl0dWRlIiwidXBkYXRlZF9sb25naXR1ZGUiLCJ1cGRhdGVkX2dlb21ldHJ5IiwidXBkYXRlZF9hbHRpdHVkZSIsInVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSIsImNyZWF0ZWRfZHVyYXRpb24iLCJ1cGRhdGVkX2R1cmF0aW9uIiwiZWRpdGVkX2R1cmF0aW9uIiwicGhvdG8iLCJoYXNMb2NhdGlvbiIsIl9sYXRpdHVkZSIsIl9sb25naXR1ZGUiLCJpZCIsImFjY2Vzc19rZXkiLCJyZWNvcmRfaWQiLCJfcmVjb3JkUm93SUQiLCJfcmVjb3JkSUQiLCJfZm9ybUlEIiwiZXhpZiIsIl9leGlmIiwiZmlsZV9zaXplIiwiX2ZpbGVTaXplIiwiX2NyZWF0ZWRBdCIsIl91cGRhdGVkQXQiLCJmaWxlIiwiX2ZpbGVQYXRoIiwiY29udGVudF90eXBlIiwiX2NvbnRlbnRUeXBlIiwiaXNfdXBsb2FkZWQiLCJfaXNVcGxvYWRlZCIsImlzX3N0b3JlZCIsIl9pc1N0b3JlZCIsImlzX3Byb2Nlc3NlZCIsIl9pc1Byb2Nlc3NlZCIsIl9hbHRpdHVkZSIsImRpcmVjdGlvbiIsIl9kaXJlY3Rpb24iLCJhY2N1cmFjeSIsIl9hY2N1cmFjeSIsIndpZHRoIiwiX3dpZHRoIiwiaGVpZ2h0IiwiX2hlaWdodCIsIm1ha2UiLCJfbWFrZSIsIm1vZGVsIiwiX21vZGVsIiwic29mdHdhcmUiLCJfc29mdHdhcmUiLCJkYXRlX3RpbWUiLCJfZGF0ZVRpbWUiLCJ2aWRlbyIsIl9yb3dJRCIsIm1ldGFkYXRhIiwiX21ldGFkYXRhIiwiaGFzX3RyYWNrIiwiX2hhc1RyYWNrIiwiX3RyYWNrSlNPTiIsImR1cmF0aW9uIiwiX2R1cmF0aW9uIiwiYml0X3JhdGUiLCJfYml0UmF0ZSIsImF1ZGlvIiwiY2hhbmdlc2V0IiwiYm91bmRpbmdCb3hBc0dlb0pTT04iLCJjbG9zZWRfYXQiLCJfY2xvc2VkQXQiLCJjbG9zZWRfYnlfaWQiLCJfY2xvc2VkQnlSb3dJRCIsImNsb3NlZF9ieV9yZXNvdXJjZV9pZCIsIl9jbG9zZWRCeUlEIiwibWluX2xhdCIsIl9taW5MYXQiLCJtYXhfbGF0IiwiX21heExhdCIsIm1pbl9sb24iLCJfbWluTG9uIiwibWF4X2xvbiIsIl9tYXhMb24iLCJudW1iZXJfb2ZfY2hhbmdlcyIsIl9udW1iZXJPZkNoYW5nZXMiLCJudW1iZXJfb2ZfY3JlYXRlcyIsIl9udW1iZXJPZkNyZWF0ZXMiLCJudW1iZXJfb2ZfdXBkYXRlcyIsIl9udW1iZXJPZlVwZGF0ZXMiLCJudW1iZXJfb2ZfZGVsZXRlcyIsIl9udW1iZXJPZkRlbGV0ZXMiLCJtZXRhZGF0YV9pbmRleF90ZXh0IiwiX21ldGFkYXRhSW5kZXhUZXh0IiwibWV0YWRhdGFfaW5kZXgiLCJib3VuZGluZ19ib3giLCJjaG9pY2VMaXN0IiwibmFtZSIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJfdmVyc2lvbiIsIml0ZW1zIiwiX2Nob2ljZXNKU09OIiwiZGVsZXRlZF9hdCIsIl9kZWxldGVkQXQiLCJjbGFzc2lmaWNhdGlvblNldCIsIl9pdGVtc0pTT04iLCJmb3JtIiwiZWxlbWVudHMiLCJfZWxlbWVudHNKU09OIiwiX3N0YXR1cyIsInN0YXR1c19maWVsZCIsIl9zdGF0dXNGaWVsZEpTT04iLCJhdXRvX2Fzc2lnbiIsIl9hdXRvQXNzaWduIiwidGl0bGVfZmllbGRfa2V5cyIsIl90aXRsZUZpZWxkS2V5cyIsImhpZGRlbl9vbl9kYXNoYm9hcmQiLCJfaGlkZGVuT25EYXNoYm9hcmQiLCJnZW9tZXRyeV90eXBlcyIsIl9nZW9tZXRyeVR5cGVzIiwiZ2VvbWV0cnlfcmVxdWlyZWQiLCJfZ2VvbWV0cnlSZXF1aXJlZCIsInNjcmlwdCIsIl9zY3JpcHQiLCJpbWFnZSIsIl9pbWFnZSIsInByb2plY3RzX2VuYWJsZWQiLCJfcHJvamVjdEVuYWJsZWQiLCJhc3NpZ25tZW50X2VuYWJsZWQiLCJfYXNzaWdubWVudEVuYWJsZWQiLCJwcm9qZWN0Iiwicm9sZSIsImlzX3N5c3RlbSIsIl9pc1N5c3RlbSIsImlzX2RlZmF1bHQiLCJfaXNEZWZhdWx0IiwiY2FuX21hbmFnZV9zdWJzY3JpcHRpb24iLCJjYW5NYW5hZ2VTdWJzY3JpcHRpb24iLCJjYW5fdXBkYXRlX29yZ2FuaXphdGlvbiIsImNhblVwZGF0ZU9yZ2FuaXphdGlvbiIsImNhbl9tYW5hZ2VfbWVtYmVycyIsImNhbk1hbmFnZU1lbWJlcnMiLCJjYW5fbWFuYWdlX3JvbGVzIiwiY2FuTWFuYWdlUm9sZXMiLCJjYW5fbWFuYWdlX2FwcHMiLCJjYW5NYW5hZ2VBcHBzIiwiY2FuX21hbmFnZV9wcm9qZWN0cyIsImNhbk1hbmFnZVByb2plY3RzIiwiY2FuX21hbmFnZV9jaG9pY2VfbGlzdHMiLCJjYW5NYW5hZ2VDaG9pY2VMaXN0cyIsImNhbl9tYW5hZ2VfY2xhc3NpZmljYXRpb25fc2V0cyIsImNhbk1hbmFnZUNsYXNzaWZpY2F0aW9uU2V0cyIsImNhbl9jcmVhdGVfcmVjb3JkcyIsImNhbkNyZWF0ZVJlY29yZHMiLCJjYW5fdXBkYXRlX3JlY29yZHMiLCJjYW5VcGRhdGVSZWNvcmRzIiwiY2FuX2RlbGV0ZV9yZWNvcmRzIiwiY2FuRGVsZXRlUmVjb3JkcyIsImNhbl9jaGFuZ2Vfc3RhdHVzIiwiY2FuQ2hhbmdlU3RhdHVzIiwiY2FuX2NoYW5nZV9wcm9qZWN0IiwiY2FuQ2hhbmdlUHJvamVjdCIsImNhbl9hc3NpZ25fcmVjb3JkcyIsImNhbkFzc2lnblJlY29yZHMiLCJjYW5faW1wb3J0X3JlY29yZHMiLCJjYW5JbXBvcnRSZWNvcmRzIiwiY2FuX2V4cG9ydF9yZWNvcmRzIiwiY2FuRXhwb3J0UmVjb3JkcyIsImNhbl9ydW5fcmVwb3J0cyIsImNhblJ1blJlcG9ydHMiLCJtZW1iZXJzaGlwIiwidXNlcl9yZXNvdXJjZV9pZCIsIl91c2VySUQiLCJmaXJzdF9uYW1lIiwiX2ZpcnN0TmFtZSIsImxhc3RfbmFtZSIsIl9sYXN0TmFtZSIsImVtYWlsIiwiX2VtYWlsIiwicm9sZV9pZCIsIl9yb2xlUm93SUQiLCJyb2xlX3Jlc291cmNlX2lkIiwiX3JvbGVJRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7Ozs7QUFDQTs7OztBQUZBO0FBSWUsTUFBTUEsU0FBTixDQUFnQjtBQUM3QjtBQUNBO0FBQ0EsU0FBT0MsZUFBUCxDQUF1QkMsZUFBdkIsRUFBd0M7QUFDdEMsUUFBSUEsbUJBQW1CLElBQXZCLEVBQTZCO0FBQzNCLGFBQU8sSUFBUDtBQUNEOztBQUVELFdBQVEsOEJBQThCLG9CQUFJQyxTQUFKLENBQWNELGVBQWQsQ0FBZ0MsVUFBdEU7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxTQUFPRSxvQkFBUCxDQUE0QkYsZUFBNUIsRUFBNkM7QUFDM0MsUUFBSUEsbUJBQW1CLElBQXZCLEVBQTZCO0FBQzNCLGFBQU8sSUFBUDtBQUNEOztBQUVELFdBQU8sS0FBS0QsZUFBTCxDQUFxQkMsZUFBckIsQ0FBUDtBQUNBO0FBQ0Q7O0FBRUQsU0FBT0csUUFBUCxDQUFnQkMsUUFBaEIsRUFBMEJDLFNBQTFCLEVBQXFDO0FBQ25DLFdBQU8sRUFBRUMsS0FBSyxLQUFLUCxlQUFMLENBQXFCLEVBQUNRLE1BQU0sT0FBUCxFQUFnQkMsYUFBYSxDQUFFLENBQUNILFNBQUgsRUFBYyxDQUFDRCxRQUFmLENBQTdCLEVBQXJCLENBQVAsRUFBUDtBQUNEOztBQUVELFNBQU9LLGFBQVAsQ0FBcUJDLFNBQXJCLEVBQWdDO0FBQzlCLFFBQUlBLFNBQUosRUFBZTtBQUNiLFlBQU1DLFFBQVEsSUFBSSwyQkFBS0MsS0FBVCxDQUFlLE9BQWYsRUFBd0JGLFNBQXhCLENBQWQ7O0FBRUEs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SUFBSW9PLFVBUlI7QUFTTEMsd0JBQWtCck8sSUFBSXNPLE9BVGpCO0FBVUxwTixjQUFRbEIsSUFBSWtCLE1BVlA7QUFXTEMsa0JBQVluQixJQUFJeUUsVUFYWDtBQVlMckQsa0JBQVlwQixJQUFJMEUsVUFaWDtBQWFMNEUsa0JBQVl0SixJQUFJdUo7QUFiWCxLQUFQO0FBZUQ7QUFyVjRCO2tCQUFWN0ssUyIsImZpbGUiOiJzY2hlbWEtbWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbXBvcnQgcGdmb3JtYXQgZnJvbSAncGctZm9ybWF0JztcclxuaW1wb3J0IHdrdCBmcm9tICd3ZWxsa25vd24nO1xyXG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnZnVsY3J1bSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlbWFNYXAge1xyXG4gIC8vICogZm9yY2UgMmRcclxuICAvLyAqIHJlbW92ZSBkdXBsaWNhdGUgdmVydGljZXNcclxuICBzdGF0aWMgZ2VvbUZyb21HZW9KU09OKGdlb2pzb25HZW9tZXRyeSkge1xyXG4gICAgaWYgKGdlb2pzb25HZW9tZXRyeSA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBgZ2VvZ3JhcGh5OjpTVEdlb21Gcm9tVGV4dCgnJHsgd2t0LnN0cmluZ2lmeShnZW9qc29uR2VvbWV0cnkpIH0nLCA0MzI2KWA7XHJcbiAgfVxyXG5cclxuICAvLyAqIGZvcmNlIHRvIG11bHRpXHJcbiAgLy8gKiBmb3JjZSAyZFxyXG4gIC8vICogcmVtb3ZlIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xyXG4gIHN0YXRpYyBtdWx0aUdlb21Gcm9tR2VvSlNPTihnZW9qc29uR2VvbWV0cnkpIHtcclxuICAgIGlmIChnZW9qc29uR2VvbWV0cnkgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZW9tRnJvbUdlb0pTT04oZ2VvanNvbkdlb21ldHJ5KTtcclxuICAgIC8vIHJldHVybiBgU1RfUmVtb3ZlUmVwZWF0ZWRQb2ludHMoU1RfRm9yY2UyRChTVF9NdWx0aShTVF9HZW9tRnJvbVRleHQoJHsgcGdmb3JtYXQoJyVMJywgd2t0LnN0cmluZ2lmeShnZW9qc29uR2VvbWV0cnkpKSB9LCA0MzI2KSkpKWA7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2VvbWV0cnkobGF0aXR1ZGUsIGxvbmdpdHVkZSkge1xyXG4gICAgcmV0dXJuIHsgcmF3OiB0aGlzLmdlb21Gcm9tR2VvSlNPTih7dHlwZTogJ1BvaW50JywgY29vcmRpbmF0ZXM6IFsgK2xvbmdpdHVkZSwgK2xhdGl0dWRlIF19KSB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHRyYWNrR2VvbWV0cnkodHJhY2tKU09OKSB7XHJcbiAgICBpZiAodHJhY2tKU09OKSB7XHJcbiAgICAgIGNvbnN0IHRyYWNrID0gbmV3IGNvcmUuVHJhY2soJ3ZpZGVvJywgdHJhY2tKU09OKTtcclxuXHJcbiAgICAgIGNvbnN0IGdlb0pTT04gPSB0cmFjay50b0dlb0pTT05NdWx0aUxpbmVTdHJpbmcoKTtcclxuXHJcbiAgICAgIGlmIChnZW9KU09OICYmIGdlb0pTT04uZ2VvbWV0cnkgJiYgZ2VvSlNPTi5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGggJiYgZ2VvSlNPTi5nZW9tZXRyeS5jb29yZGluYXRlc1swXS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcmF3OiB0aGlzLm11bHRpR2VvbUZyb21HZW9KU09OKGdlb0pTT04pIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBqc29uVmFsdWUodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogbnVsbDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZWNvcmQocm93LCB2YWx1ZXMpIHtcclxuICAgIC8vIHJlY29yZHMgYXJlIHNwZWNpYWwgc2luY2UgdGhleSdyZSBhbHJlYWR5IHRhYmxlLWl6ZWQgaW4gYSBkaWZmZXJlbnQgY29kZSBwYXRoLlxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcm93X2lkOiByb3cucm93SUQsXHJcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogdmFsdWVzLnJlY29yZF9yZXNvdXJjZV9pZCxcclxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXHJcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5mb3JtSUQsXHJcbiAgICAgIHByb2plY3RfaWQ6IHJvdy5fcHJvamVjdFJvd0lELFxyXG4gICAgICBwcm9qZWN0X3Jlc291cmNlX2lkOiByb3cuX3Byb2plY3RJRCxcclxuICAgICAgYXNzaWduZWRfdG9faWQ6IHJvdy5fYXNzaWduZWRUb1Jvd0lELFxyXG4gICAgICBhc3NpZ25lZF90b19yZXNvdXJjZV9pZDogcm93Ll9hc3NpZ25lZFRvSUQsXHJcbiAgICAgIHN0YXR1czogdmFsdWVzLnN0YXR1cyxcclxuICAgICAgbGF0aXR1ZGU6IHZhbHVlcy5sYXRpdHVkZSxcclxuICAgICAgbG9uZ2l0dWRlOiB2YWx1ZXMubG9uZ2l0dWRlLFxyXG4gICAgICBjcmVhdGVkX2F0OiB2YWx1ZXMuY3JlYXRlZF9hdCxcclxuICAgICAgdXBkYXRlZF9hdDogdmFsdWVzLnVwZGF0ZWRfYXQsXHJcbiAgICAgIHZlcnNpb246IHZhbHVlcy52ZXJzaW9uLFxyXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxyXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxyXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxyXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxyXG4gICAgICBzZXJ2ZXJfY3JlYXRlZF9hdDogdmFsdWVzLnNlcnZlcl9jcmVhdGVkX2F0LFxyXG4gICAgICBzZXJ2ZXJfdXBkYXRlZF9hdDogdmFsdWVzLnNlcnZlcl91cGRhdGVkX2F0LFxyXG4gICAgICByZWNvcmRfaW5kZXhfdGV4dDogdmFsdWVzLnJlY29yZF9pbmRleF90ZXh0LFxyXG4gICAgICByZWNvcmRfaW5kZXg6IHZhbHVlcy5yZWNvcmRfaW5kZXgsXHJcbiAgICAgIGdlb21ldHJ5OiB2YWx1ZXMuZ2VvbWV0cnksXHJcbiAgICAgIGFsdGl0dWRlOiB2YWx1ZXMuYWx0aXR1ZGUsXHJcbiAgICAgIHNwZWVkOiB2YWx1ZXMuc3BlZWQsXHJcbiAgICAgIGNvdXJzZTogdmFsdWVzLmNvdXJzZSxcclxuICAgICAgaG9yaXpvbnRhbF9hY2N1cmFjeTogdmFsdWVzLmhvcml6b250YWxfYWNjdXJhY3ksXHJcbiAgICAgIHZlcnRpY2FsX2FjY3VyYWN5OiB2YWx1ZXMudmVydGljYWxfYWNjdXJhY3ksXHJcbiAgICAgIGZvcm1fdmFsdWVzOiB2YWx1ZXMuZm9ybV92YWx1ZXMsXHJcbiAgICAgIGNoYW5nZXNldF9pZDogcm93Ll9jaGFuZ2VzZXRSb3dJRCxcclxuICAgICAgY2hhbmdlc2V0X3Jlc291cmNlX2lkOiByb3cuX2NoYW5nZXNldElELFxyXG4gICAgICB0aXRsZTogcm93LmRpc3BsYXlWYWx1ZSxcclxuICAgICAgY3JlYXRlZF9sYXRpdHVkZTogdmFsdWVzLmNyZWF0ZWRfbGF0aXR1ZGUsXHJcbiAgICAgIGNyZWF0ZWRfbG9uZ2l0dWRlOiB2YWx1ZXMuY3JlYXRlZF9sb25naXR1ZGUsXHJcbiAgICAgIGNyZWF0ZWRfZ2VvbWV0cnk6IHZhbHVlcy5jcmVhdGVkX2dlb21ldHJ5LFxyXG4gICAgICBjcmVhdGVkX2FsdGl0dWRlOiB2YWx1ZXMuY3JlYXRlZF9hbHRpdHVkZSxcclxuICAgICAgY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5OiB2YWx1ZXMuY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxyXG4gICAgICB1cGRhdGVkX2xhdGl0dWRlOiB2YWx1ZXMudXBkYXRlZF9sYXRpdHVkZSxcclxuICAgICAgdXBkYXRlZF9sb25naXR1ZGU6IHZhbHVlcy51cGRhdGVkX2xvbmdpdHVkZSxcclxuICAgICAgdXBkYXRlZF9nZW9tZXRyeTogdmFsdWVzLnVwZGF0ZWRfZ2VvbWV0cnksXHJcbiAgICAgIHVwZGF0ZWRfYWx0aXR1ZGU6IHZhbHVlcy51cGRhdGVkX2FsdGl0dWRlLFxyXG4gICAgICB1cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3k6IHZhbHVlcy51cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3ksXHJcbiAgICAgIGNyZWF0ZWRfZHVyYXRpb246IHZhbHVlcy5jcmVhdGVkX2R1cmF0aW9uLFxyXG4gICAgICB1cGRhdGVkX2R1cmF0aW9uOiB2YWx1ZXMudXBkYXRlZF9kdXJhdGlvbixcclxuICAgICAgZWRpdGVkX2R1cmF0aW9uOiB2YWx1ZXMuZWRpdGVkX2R1cmF0aW9uXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHBob3RvKHJvdykge1xyXG4gICAgY29uc3QgaGFzTG9jYXRpb24gPSByb3cuX2xhdGl0dWRlICE9IG51bGwgJiYgcm93Ll9sb25naXR1ZGUgIT0gbnVsbDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcclxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXHJcbiAgICAgIGFjY2Vzc19rZXk6IHJvdy5pZCxcclxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxyXG4gICAgICByZWNvcmRfcmVzb3VyY2VfaWQ6IHJvdy5fcmVjb3JkSUQsXHJcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxyXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcclxuICAgICAgZXhpZjogdGhpcy5qc29uVmFsdWUocm93Ll9leGlmKSxcclxuICAgICAgZmlsZV9zaXplOiByb3cuX2ZpbGVTaXplLFxyXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxyXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxyXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxyXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxyXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXHJcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXHJcbiAgICAgIGNvbnRlbnRfdHlwZTogcm93Ll9jb250ZW50VHlwZSxcclxuICAgICAgaXNfdXBsb2FkZWQ6IHJvdy5faXNVcGxvYWRlZCxcclxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxyXG4gICAgICBpc19wcm9jZXNzZWQ6IHJvdy5faXNQcm9jZXNzZWQsXHJcbiAgICAgIGdlb21ldHJ5OiBoYXNMb2NhdGlvbiA/IHRoaXMuZ2VvbWV0cnkocm93Ll9sYXRpdHVkZSwgcm93Ll9sb25naXR1ZGUpIDogbnVsbCxcclxuICAgICAgbGF0aXR1ZGU6IGhhc0xvY2F0aW9uID8gcm93Ll9sYXRpdHVkZSA6IG51bGwsXHJcbiAgICAgIGxvbmdpdHVkZTogaGFzTG9jYXRpb24gPyByb3cuX2xvbmdpdHVkZSA6IG51bGwsXHJcbiAgICAgIGFsdGl0dWRlOiByb3cuX2FsdGl0dWRlLFxyXG4gICAgICBkaXJlY3Rpb246IHJvdy5fZGlyZWN0aW9uLFxyXG4gICAgICBhY2N1cmFjeTogcm93Ll9hY2N1cmFjeSxcclxuICAgICAgd2lkdGg6IHJvdy5fd2lkdGgsXHJcbiAgICAgIGhlaWdodDogcm93Ll9oZWlnaHQsXHJcbiAgICAgIG1ha2U6IHJvdy5fbWFrZSxcclxuICAgICAgbW9kZWw6IHJvdy5fbW9kZWwsXHJcbiAgICAgIHNvZnR3YXJlOiByb3cuX3NvZnR3YXJlLFxyXG4gICAgICBkYXRlX3RpbWU6IHJvdy5fZGF0ZVRpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdmlkZW8ocm93KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3dfaWQ6IHJvdy5fcm93SUQsXHJcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxyXG4gICAgICBhY2Nlc3Nfa2V5OiByb3cuaWQsXHJcbiAgICAgIHJlY29yZF9pZDogcm93Ll9yZWNvcmRSb3dJRCxcclxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxyXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcclxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93Ll9mb3JtSUQsXHJcbiAgICAgIG1ldGFkYXRhOiB0aGlzLmpzb25WYWx1ZShyb3cuX21ldGFkYXRhKSxcclxuICAgICAgaGFzX3RyYWNrOiByb3cuX2hhc1RyYWNrLFxyXG4gICAgICB0cmFjazogdGhpcy5qc29uVmFsdWUocm93Ll90cmFja0pTT04pLFxyXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXHJcbiAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJvdy5fY3JlYXRlZEJ5Um93SUQsXHJcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXHJcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXHJcbiAgICAgIHVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fdXBkYXRlZEJ5SUQsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxyXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcclxuICAgICAgZmlsZTogcm93Ll9maWxlUGF0aCxcclxuICAgICAgY29udGVudF90eXBlOiByb3cuX2NvbnRlbnRUeXBlLFxyXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxyXG4gICAgICBpc19zdG9yZWQ6IHJvdy5faXNTdG9yZWQsXHJcbiAgICAgIGlzX3Byb2Nlc3NlZDogcm93Ll9pc1Byb2Nlc3NlZCxcclxuICAgICAgZ2VvbWV0cnk6IHRoaXMudHJhY2tHZW9tZXRyeShyb3cuX3RyYWNrSlNPTiksXHJcbiAgICAgIHdpZHRoOiByb3cuX3dpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHJvdy5faGVpZ2h0LFxyXG4gICAgICBkdXJhdGlvbjogcm93Ll9kdXJhdGlvbixcclxuICAgICAgYml0X3JhdGU6IHJvdy5fYml0UmF0ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhdWRpbyhyb3cpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJvd19pZDogcm93Ll9yb3dJRCxcclxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXHJcbiAgICAgIGFjY2Vzc19rZXk6IHJvdy5pZCxcclxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxyXG4gICAgICByZWNvcmRfcmVzb3VyY2VfaWQ6IHJvdy5fcmVjb3JkSUQsXHJcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxyXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcclxuICAgICAgbWV0YWRhdGE6IHRoaXMuanNvblZhbHVlKHJvdy5fbWV0YWRhdGEpLFxyXG4gICAgICBoYXNfdHJhY2s6IHJvdy5faGFzVHJhY2ssXHJcbiAgICAgIHRyYWNrOiB0aGlzLmpzb25WYWx1ZShyb3cuX3RyYWNrSlNPTiksXHJcbiAgICAgIGZpbGVfc2l6ZTogcm93Ll9maWxlU2l6ZSxcclxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcclxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcclxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcclxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcclxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxyXG4gICAgICBmaWxlOiByb3cuX2ZpbGVQYXRoLFxyXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXHJcbiAgICAgIGlzX3VwbG9hZGVkOiByb3cuX2lzVXBsb2FkZWQsXHJcbiAgICAgIGlzX3N0b3JlZDogcm93Ll9pc1N0b3JlZCxcclxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxyXG4gICAgICBnZW9tZXRyeTogdGhpcy50cmFja0dlb21ldHJ5KHJvdy5fdHJhY2tKU09OKSxcclxuICAgICAgZHVyYXRpb246IHJvdy5fZHVyYXRpb24sXHJcbiAgICAgIGJpdF9yYXRlOiByb3cuX2JpdFJhdGVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY2hhbmdlc2V0KHJvdykge1xyXG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21Gcm9tR2VvSlNPTihyb3cuYm91bmRpbmdCb3hBc0dlb0pTT04pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxyXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcclxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXHJcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5fZm9ybUlELFxyXG4gICAgICBtZXRhZGF0YTogdGhpcy5qc29uVmFsdWUocm93Ll9tZXRhZGF0YSksXHJcbiAgICAgIGNsb3NlZF9hdDogcm93Ll9jbG9zZWRBdCxcclxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcclxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcclxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcclxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcclxuICAgICAgY2xvc2VkX2J5X2lkOiByb3cuX2Nsb3NlZEJ5Um93SUQsXHJcbiAgICAgIGNsb3NlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jbG9zZWRCeUlELFxyXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXHJcbiAgICAgIG1pbl9sYXQ6IHJvdy5fbWluTGF0LFxyXG4gICAgICBtYXhfbGF0OiByb3cuX21heExhdCxcclxuICAgICAgbWluX2xvbjogcm93Ll9taW5Mb24sXHJcbiAgICAgIG1heF9sb246IHJvdy5fbWF4TG9uLFxyXG4gICAgICBudW1iZXJfb2ZfY2hhbmdlczogcm93Ll9udW1iZXJPZkNoYW5nZXMsXHJcbiAgICAgIG51bWJlcl9vZl9jcmVhdGVzOiByb3cuX251bWJlck9mQ3JlYXRlcyxcclxuICAgICAgbnVtYmVyX29mX3VwZGF0ZXM6IHJvdy5fbnVtYmVyT2ZVcGRhdGVzLFxyXG4gICAgICBudW1iZXJfb2ZfZGVsZXRlczogcm93Ll9udW1iZXJPZkRlbGV0ZXMsXHJcbiAgICAgIG1ldGFkYXRhX2luZGV4X3RleHQ6IHJvdy5fbWV0YWRhdGFJbmRleFRleHQsXHJcbiAgICAgIG1ldGFkYXRhX2luZGV4OiByb3cuX21ldGFkYXRhSW5kZXhUZXh0LFxyXG4gICAgICBib3VuZGluZ19ib3g6IGdlb21ldHJ5ID8ge3JhdzogdGhpcy5nZW9tRnJvbUdlb0pTT04ocm93LmJvdW5kaW5nQm94QXNHZW9KU09OKX0gOiBudWxsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNob2ljZUxpc3Qocm93KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcclxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXHJcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXHJcbiAgICAgIHZlcnNpb246IHJvdy5fdmVyc2lvbixcclxuICAgICAgaXRlbXM6IHRoaXMuanNvblZhbHVlKHJvdy5fY2hvaWNlc0pTT04pLFxyXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXHJcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNsYXNzaWZpY2F0aW9uU2V0KHJvdykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcm93X2lkOiByb3cucm93SUQsXHJcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxyXG4gICAgICBuYW1lOiByb3cuX25hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxyXG4gICAgICB2ZXJzaW9uOiByb3cuX3ZlcnNpb24sXHJcbiAgICAgIGl0ZW1zOiB0aGlzLmpzb25WYWx1ZShyb3cuX2l0ZW1zSlNPTiksXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxyXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcclxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZm9ybShyb3cpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxyXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcclxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcclxuICAgICAgdmVyc2lvbjogcm93Ll92ZXJzaW9uLFxyXG4gICAgICBlbGVtZW50czogdGhpcy5qc29uVmFsdWUocm93Ll9lbGVtZW50c0pTT04pLFxyXG4gICAgICBzdGF0dXM6IHJvdy5fc3RhdHVzLFxyXG4gICAgICBzdGF0dXNfZmllbGQ6IHRoaXMuanNvblZhbHVlKHJvdy5fc3RhdHVzRmllbGRKU09OKSxcclxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxyXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdCxcclxuICAgICAgYXV0b19hc3NpZ246IHJvdy5fYXV0b0Fzc2lnbixcclxuICAgICAgdGl0bGVfZmllbGRfa2V5czogdGhpcy5qc29uVmFsdWUocm93Ll90aXRsZUZpZWxkS2V5cyksXHJcbiAgICAgIGhpZGRlbl9vbl9kYXNoYm9hcmQ6IHJvdy5faGlkZGVuT25EYXNoYm9hcmQsXHJcbiAgICAgIGdlb21ldHJ5X3R5cGVzOiB0aGlzLmpzb25WYWx1ZShyb3cuX2dlb21ldHJ5VHlwZXMpLFxyXG4gICAgICBnZW9tZXRyeV9yZXF1aXJlZDogcm93Ll9nZW9tZXRyeVJlcXVpcmVkLFxyXG4gICAgICBzY3JpcHQ6IHJvdy5fc2NyaXB0LFxyXG4gICAgICBpbWFnZTogcm93Ll9pbWFnZSxcclxuICAgICAgcHJvamVjdHNfZW5hYmxlZDogISFyb3cuX3Byb2plY3RFbmFibGVkLFxyXG4gICAgICBhc3NpZ25tZW50X2VuYWJsZWQ6ICEhcm93Ll9hc3NpZ25tZW50RW5hYmxlZFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBwcm9qZWN0KHJvdykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcm93X2lkOiByb3cucm93SUQsXHJcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxyXG4gICAgICBuYW1lOiByb3cuX25hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXHJcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJvbGUocm93KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcclxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXHJcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxyXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcclxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXQsXHJcbiAgICAgIGlzX3N5c3RlbTogcm93Ll9pc1N5c3RlbSxcclxuICAgICAgaXNfZGVmYXVsdDogcm93Ll9pc0RlZmF1bHQsXHJcbiAgICAgIGNhbl9tYW5hZ2Vfc3Vic2NyaXB0aW9uOiByb3cuY2FuTWFuYWdlU3Vic2NyaXB0aW9uLFxyXG4gICAgICBjYW5fdXBkYXRlX29yZ2FuaXphdGlvbjogcm93LmNhblVwZGF0ZU9yZ2FuaXphdGlvbixcclxuICAgICAgY2FuX21hbmFnZV9tZW1iZXJzOiByb3cuY2FuTWFuYWdlTWVtYmVycyxcclxuICAgICAgY2FuX21hbmFnZV9yb2xlczogcm93LmNhbk1hbmFnZVJvbGVzLFxyXG4gICAgICBjYW5fbWFuYWdlX2FwcHM6IHJvdy5jYW5NYW5hZ2VBcHBzLFxyXG4gICAgICBjYW5fbWFuYWdlX3Byb2plY3RzOiByb3cuY2FuTWFuYWdlUHJvamVjdHMsXHJcbiAgICAgIGNhbl9tYW5hZ2VfY2hvaWNlX2xpc3RzOiByb3cuY2FuTWFuYWdlQ2hvaWNlTGlzdHMsXHJcbiAgICAgIGNhbl9tYW5hZ2VfY2xhc3NpZmljYXRpb25fc2V0czogcm93LmNhbk1hbmFnZUNsYXNzaWZpY2F0aW9uU2V0cyxcclxuICAgICAgY2FuX2NyZWF0ZV9yZWNvcmRzOiByb3cuY2FuQ3JlYXRlUmVjb3JkcyxcclxuICAgICAgY2FuX3VwZGF0ZV9yZWNvcmRzOiByb3cuY2FuVXBkYXRlUmVjb3JkcyxcclxuICAgICAgY2FuX2RlbGV0ZV9yZWNvcmRzOiByb3cuY2FuRGVsZXRlUmVjb3JkcyxcclxuICAgICAgY2FuX2NoYW5nZV9zdGF0dXM6IHJvdy5jYW5DaGFuZ2VTdGF0dXMsXHJcbiAgICAgIGNhbl9jaGFuZ2VfcHJvamVjdDogcm93LmNhbkNoYW5nZVByb2plY3QsXHJcbiAgICAgIGNhbl9hc3NpZ25fcmVjb3Jkczogcm93LmNhbkFzc2lnblJlY29yZHMsXHJcbiAgICAgIGNhbl9pbXBvcnRfcmVjb3Jkczogcm93LmNhbkltcG9ydFJlY29yZHMsXHJcbiAgICAgIGNhbl9leHBvcnRfcmVjb3Jkczogcm93LmNhbkV4cG9ydFJlY29yZHMsXHJcbiAgICAgIGNhbl9ydW5fcmVwb3J0czogcm93LmNhblJ1blJlcG9ydHNcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbWVtYmVyc2hpcChyb3cpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxyXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcclxuICAgICAgdXNlcl9yZXNvdXJjZV9pZDogcm93Ll91c2VySUQsXHJcbiAgICAgIGZpcnN0X25hbWU6IHJvdy5fZmlyc3ROYW1lLFxyXG4gICAgICBsYXN0X25hbWU6IHJvdy5fbGFzdE5hbWUsXHJcbiAgICAgIG5hbWU6IChyb3cuX2ZpcnN0TmFtZSB8fCAnJykgKyAnICcgKyAocm93Ll9sYXN0TmFtZSB8fCAnJyksXHJcbiAgICAgIGVtYWlsOiByb3cuX2VtYWlsLFxyXG4gICAgICByb2xlX2lkOiByb3cuX3JvbGVSb3dJRCxcclxuICAgICAgcm9sZV9yZXNvdXJjZV9pZDogcm93Ll9yb2xlSUQsXHJcbiAgICAgIHN0YXR1czogcm93LnN0YXR1cyxcclxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxyXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIl19