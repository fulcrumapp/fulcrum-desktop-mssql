"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = `
BEGIN TRANSACTION;

CREATE TABLE __SCHEMA__.records (
  id bigint NOT NULL IDENTITY(1,1) PRIMARY KEY,
  row_id bigint NOT NULL,
  row_resource_id varchar(100) NOT NULL,
  form_id bigint NOT NULL,
  form_resource_id varchar(100) NOT NULL,
  project_id bigint,
  project_resource_id varchar(100),
  assigned_to_id bigint,
  assigned_to_resource_id varchar(100),
  status varchar(1000),
  latitude float,
  longitude float,
  created_at datetime NOT NULL,
  updated_at datetime NOT NULL,
  version bigint NOT NULL,
  created_by_id bigint,
  created_by_resource_id varchar(100),
  updated_by_id bigint,
  updated_by_resource_id varchar(100),
  server_created_at datetime NOT NULL,
  server_updated_at datetime NOT NULL,
  record_index_text varchar(max),
  record_index varchar(max),
  geometry geography,
  altitude float,
  speed float,
  course float,
  horizontal_accuracy float,
  vertical_accuracy float,
  form_values varchar(max),
  changeset_id bigint,
  changeset_resource_id varchar(100),
  title varchar(max),
  created_latitude float,
  created_longitude float,
  created_geometry geography,
  created_altitude float,
  created_horizontal_accuracy float,
  updated_latitude float,
  updated_longitude float,
  updated_geometry geography,
  updated_altitude float,
  updated_horizontal_accuracy float,
  created_duration bigint,
  updated_duration bigint,
  edited_duration bigint
);

IF EXISTS (SELECT * FROM sys.views WHERE object_id = OBJECT_ID(N\'__VIEW_SCHEMA__.records_view\')) DROP VIEW __VIEW_SCHEMA__.records_view;

CREATE VIEW __VIEW_SCHEMA__.records_view AS
SELECT
  records.row_resource_id AS record_id,
  records.form_resource_id AS form_id,
  records.project_resource_id AS project_id,
  records.assigned_to_resource_id AS assigned_to_id,
  records.status AS status,
  records.latitude AS latitude,
  records.longitude AS longitude,
  records.created_at AS created_at,
  records.updated_at AS updated_at,
  records.version AS version,
  records.created_by_resource_id AS created_by_id,
  records.updated_by_resource_id AS updated_by_id,
  records.server_created_at AS server_created_at,
  records.server_updated_at AS server_updated_at,
  records.geometry AS geometry,
  records.altitude AS altitude,
  records.speed AS speed,
  records.course AS course,
  records.horizontal_accuracy AS horizontal_accuracy,
  records.vertical_accuracy AS vertical_accuracy,
  records.changeset_resource_id AS changeset_id,
  records.title AS title,
  records.created_latitude AS created_latitude,
  records.created_longitude AS created_longitude,
  records.created_geometry AS created_geometry,
  records.created_altitude AS created_altitude,
  records.created_horizontal_accuracy AS created_horizontal_accuracy,
  records.updated_latitude AS updated_latitude,
  records.updated_longitude AS updated_longitude,
  records.updated_geometry AS updated_geometry,
  records.updated_altitude AS updated_altitude,
  records.updated_horizontal_accuracy AS updated_horizontal_accuracy,
  records.created_duration AS created_duration,
  records.updated_duration AS updated_duration,
  records.edited_duration AS edited_duration
FROM __SCHEMA__.records;


CREATE UNIQUE INDEX idx_records_row_resource_id ON __SCHEMA__.records (row_resource_id);

CREATE UNIQUE INDEX idx_records_row_id ON __SCHEMA__.records (row_id);

CREATE INDEX idx_records_form_resource_id ON __SCHEMA__.records (form_resource_id);

CREATE INDEX idx_records_assigned_to_resource_id ON __SCHEMA__.records (assigned_to_resource_id);

CREATE INDEX idx_records_changeset_resource_id ON __SCHEMA__.records (changeset_resource_id);

CREATE SPATIAL INDEX idx_records_geometry ON __SCHEMA__.records (geometry);

CREATE INDEX idx_records_project_resource_id ON __SCHEMA__.records (project_resource_id);

-- CREATE INDEX idx_records_record_index ON __SCHEMA__.records USING gin (record_index);

CREATE INDEX idx_records_server_updated_at ON __SCHEMA__.records (server_updated_at);

CREATE INDEX idx_records_server_created_at ON __SCHEMA__.records (server_created_at);

CREATE INDEX idx_records_status ON __SCHEMA__.records (status);

INSERT INTO __SCHEMA__.migrations (name) VALUES ('002');

EXEC sp_rename '__SCHEMA__.audio', 'system_audio';
EXEC sp_rename '__SCHEMA__.changesets', 'system_changesets';
EXEC sp_rename '__SCHEMA__.choice_lists', 'system_choice_lists';
EXEC sp_rename '__SCHEMA__.classification_sets', 'system_classification_sets';
EXEC sp_rename '__SCHEMA__.forms', 'system_forms';
EXEC sp_rename '__SCHEMA__.memberships', 'system_memberships';
EXEC sp_rename '__SCHEMA__.photos', 'system_photos';
EXEC sp_rename '__SCHEMA__.projects', 'system_projects';
EXEC sp_rename '__SCHEMA__.roles', 'system_roles';
EXEC sp_rename '__SCHEMA__.signatures', 'system_signatures';
EXEC sp_rename '__SCHEMA__.videos', 'system_videos';
EXEC sp_rename '__SCHEMA__.records', 'system_records';

COMMIT TRANSACTION;
`;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3ZlcnNpb24tMDAyLnNxbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztrQkFBZ0IiLCJmaWxlIjoidmVyc2lvbi0wMDIuc3FsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYFxyXG5CRUdJTiBUUkFOU0FDVElPTjtcclxuXHJcbkNSRUFURSBUQUJMRSBfX1NDSEVNQV9fLnJlY29yZHMgKFxyXG4gIGlkIGJpZ2ludCBOT1QgTlVMTCBJREVOVElUWSgxLDEpIFBSSU1BUlkgS0VZLFxyXG4gIHJvd19pZCBiaWdpbnQgTk9UIE5VTEwsXHJcbiAgcm93X3Jlc291cmNlX2lkIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCxcclxuICBmb3JtX2lkIGJpZ2ludCBOT1QgTlVMTCxcclxuICBmb3JtX3Jlc291cmNlX2lkIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCxcclxuICBwcm9qZWN0X2lkIGJpZ2ludCxcclxuICBwcm9qZWN0X3Jlc291cmNlX2lkIHZhcmNoYXIoMTAwKSxcclxuICBhc3NpZ25lZF90b19pZCBiaWdpbnQsXHJcbiAgYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQgdmFyY2hhcigxMDApLFxyXG4gIHN0YXR1cyB2YXJjaGFyKDEwMDApLFxyXG4gIGxhdGl0dWRlIGZsb2F0LFxyXG4gIGxvbmdpdHVkZSBmbG9hdCxcclxuICBjcmVhdGVkX2F0IGRhdGV0aW1lIE5PVCBOVUxMLFxyXG4gIHVwZGF0ZWRfYXQgZGF0ZXRpbWUgTk9UIE5VTEwsXHJcbiAgdmVyc2lvbiBiaWdpbnQgTk9UIE5VTEwsXHJcbiAgY3JlYXRlZF9ieV9pZCBiaWdpbnQsXHJcbiAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZCB2YXJjaGFyKDEwMCksXHJcbiAgdXBkYXRlZF9ieV9pZCBiaWdpbnQsXHJcbiAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZCB2YXJjaGFyKDEwMCksXHJcbiAgc2VydmVyX2NyZWF0ZWRfYXQgZGF0ZXRpbWUgTk9UIE5VTEwsXHJcbiAgc2VydmVyX3VwZGF0ZWRfYXQgZGF0ZXRpbWUgTk9UIE5VTEwsXHJcbiAgcmVjb3JkX2luZGV4X3RleHQgdmFyY2hhcihtYXgpLFxyXG4gIHJlY29yZF9pbmRleCB2YXJjaGFyKG1heCksXHJcbiAgZ2VvbWV0cnkgZ2VvZ3JhcGh5LFxyXG4gIGFsdGl0dWRlIGZsb2F0LFxyXG4gIHNwZWVkIGZsb2F0LFxyXG4gIGNvdXJzZSBmbG9hdCxcclxuICBob3Jpem9udGFsX2FjY3VyYWN5IGZsb2F0LFxyXG4gIHZlcnRpY2FsX2FjY3VyYWN5IGZsb2F0LFxyXG4gIGZvcm1fdmFsdWVzIHZhcmNoYXIobWF4KSxcclxuICBjaGFuZ2VzZXRfaWQgYmlnaW50LFxyXG4gIGNoYW5nZXNldF9yZXNvdXJjZV9pZCB2YXJjaGFyKDEwMCksXHJcbiAgdGl0bGUgdmFyY2hhcihtYXgpLFxyXG4gIGNyZWF0ZWRfbGF0aXR1ZGUgZmxvYXQsXHJcbiAgY3JlYXRlZF9sb25naXR1ZGUgZmxvYXQsXHJcbiAgY3JlYXRlZF9nZW9tZXRyeSBnZW9ncmFwaHksXHJcbiAgY3JlYXRlZF9hbHRpdHVkZSBmbG9hdCxcclxuICBjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgZmxvYXQsXHJcbiAgdXBkYXRlZF9sYXRpdHVkZSBmbG9hdCxcclxuICB1cGRhdGVkX2xvbmdpdHVkZSBmbG9hdCxcclxuICB1cGRhdGVkX2dlb21ldHJ5IGdlb2dyYXBoeSxcclxuICB1cGRhdGVkX2FsdGl0dWRlIGZsb2F0LFxyXG4gIHVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSBmbG9hdCxcclxuICBjcmVhdGVkX2R1cmF0aW9uIGJpZ2ludCxcclxuICB1cGRhdGVkX2R1cmF0aW9uIGJpZ2ludCxcclxuICBlZGl0ZWRfZHVyYXRpb24gYmlnaW50XHJcbik7XHJcblxyXG5JRiBFWElTVFMgKFNFTEVDVCAqIEZST00gc3lzLnZpZXdzIFdIRVJFIG9iamVjdF9pZCA9IE9CSkVDVF9JRChOXFwnX19WSUVXX1NDSEVNQV9fLnJlY29yZHNfdmlld1xcJykpIERST1AgVklFVyBfX1ZJRVdfU0NIRU1BX18ucmVjb3Jkc192aWV3O1xyXG5cclxuQ1JFQVRFIFZJRVcgX19WSUVXX1NDSEVNQV9fLnJlY29yZHNfdmlldyBBU1xyXG5TRUxFQ1RcclxuICByZWNvcmRzLnJvd19yZXNvdXJjZV9pZCBBUyByZWNvcmRfaWQsXHJcbiAgcmVjb3Jkcy5mb3JtX3Jlc291cmNlX2lkIEFTIGZvcm1faWQsXHJcbiAgcmVjb3Jkcy5wcm9qZWN0X3Jlc291cmNlX2lkIEFTIHByb2plY3RfaWQsXHJcbiAgcmVjb3Jkcy5hc3NpZ25lZF90b19yZXNvdXJjZV9pZCBBUyBhc3NpZ25lZF90b19pZCxcclxuICByZWNvcmRzLnN0YXR1cyBBUyBzdGF0dXMsXHJcbiAgcmVjb3Jkcy5sYXRpdHVkZSBBUyBsYXRpdHVkZSxcclxuICByZWNvcmRzLmxvbmdpdHVkZSBBUyBsb25naXR1ZGUsXHJcbiAgcmVjb3Jkcy5jcmVhdGVkX2F0IEFTIGNyZWF0ZWRfYXQsXHJcbiAgcmVjb3Jkcy51cGRhdGVkX2F0IEFTIHVwZGF0ZWRfYXQsXHJcbiAgcmVjb3Jkcy52ZXJzaW9uIEFTIHZlcnNpb24sXHJcbiAgcmVjb3Jkcy5jcmVhdGVkX2J5X3Jlc291cmNlX2lkIEFTIGNyZWF0ZWRfYnlfaWQsXHJcbiAgcmVjb3Jkcy51cGRhdGVkX2J5X3Jlc291cmNlX2lkIEFTIHVwZGF0ZWRfYnlfaWQsXHJcbiAgcmVjb3Jkcy5zZXJ2ZXJfY3JlYXRlZF9hdCBBUyBzZXJ2ZXJfY3JlYXRlZF9hdCxcclxuICByZWNvcmRzLnNlcnZlcl91cGRhdGVkX2F0IEFTIHNlcnZlcl91cGRhdGVkX2F0LFxyXG4gIHJlY29yZHMuZ2VvbWV0cnkgQVMgZ2VvbWV0cnksXHJcbiAgcmVjb3Jkcy5hbHRpdHVkZSBBUyBhbHRpdHVkZSxcclxuICByZWNvcmRzLnNwZWVkIEFTIHNwZWVkLFxyXG4gIHJlY29yZHMuY291cnNlIEFTIGNvdXJzZSxcclxuICByZWNvcmRzLmhvcml6b250YWxfYWNjdXJhY3kgQVMgaG9yaXpvbnRhbF9hY2N1cmFjeSxcclxuICByZWNvcmRzLnZlcnRpY2FsX2FjY3VyYWN5IEFTIHZlcnRpY2FsX2FjY3VyYWN5LFxyXG4gIHJlY29yZHMuY2hhbmdlc2V0X3Jlc291cmNlX2lkIEFTIGNoYW5nZXNldF9pZCxcclxuICByZWNvcmRzLnRpdGxlIEFTIHRpdGxlLFxyXG4gIHJlY29yZHMuY3JlYXRlZF9sYXRpdHVkZSBBUyBjcmVhdGVkX2xhdGl0dWRlLFxyXG4gIHJlY29yZHMuY3JlYXRlZF9sb25naXR1ZGUgQVMgY3JlYXRlZF9sb25naXR1ZGUsXHJcbiAgcmVjb3Jkcy5jcmVhdGVkX2dlb21ldHJ5IEFTIGNyZWF0ZWRfZ2VvbWV0cnksXHJcbiAgcmVjb3Jkcy5jcmVhdGVkX2FsdGl0dWRlIEFTIGNyZWF0ZWRfYWx0aXR1ZGUsXHJcbiAgcmVjb3Jkcy5jcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgQVMgY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxyXG4gIHJlY29yZHMudXBkYXRlZF9sYXRpdHVkZSBBUyB1cGRhdGVkX2xhdGl0dWRlLFxyXG4gIHJlY29yZHMudXBkYXRlZF9sb25naXR1ZGUgQVMgdXBkYXRlZF9sb25naXR1ZGUsXHJcbiAgcmVjb3Jkcy51cGRhdGVkX2dlb21ldHJ5IEFTIHVwZGF0ZWRfZ2VvbWV0cnksXHJcbiAgcmVjb3Jkcy51cGRhdGVkX2FsdGl0dWRlIEFTIHVwZGF0ZWRfYWx0aXR1ZGUsXHJcbiAgcmVjb3Jkcy51cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgQVMgdXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxyXG4gIHJlY29yZHMuY3JlYXRlZF9kdXJhdGlvbiBBUyBjcmVhdGVkX2R1cmF0aW9uLFxyXG4gIHJlY29yZHMudXBkYXRlZF9kdXJhdGlvbiBBUyB1cGRhdGVkX2R1cmF0aW9uLFxyXG4gIHJlY29yZHMuZWRpdGVkX2R1cmF0aW9uIEFTIGVkaXRlZF9kdXJhdGlvblxyXG5GUk9NIF9fU0NIRU1BX18ucmVjb3JkcztcclxuXHJcblxyXG5DUkVBVEUgVU5JUVVFIElOREVYIGlkeF9yZWNvcmRzX3Jvd19yZXNvdXJjZV9pZCBPTiBfX1NDSEVNQV9fLnJlY29yZHMgKHJvd19yZXNvdXJjZV9pZCk7XHJcblxyXG5DUkVBVEUgVU5JUVVFIElOREVYIGlkeF9yZWNvcmRzX3Jvd19pZCBPTiBfX1NDSEVNQV9fLnJlY29yZHMgKHJvd19pZCk7XHJcblxyXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfZm9ybV9yZXNvdXJjZV9pZCBPTiBfX1NDSEVNQV9fLnJlY29yZHMgKGZvcm1fcmVzb3VyY2VfaWQpO1xyXG5cclxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX2Fzc2lnbmVkX3RvX3Jlc291cmNlX2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyAoYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQpO1xyXG5cclxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX2NoYW5nZXNldF9yZXNvdXJjZV9pZCBPTiBfX1NDSEVNQV9fLnJlY29yZHMgKGNoYW5nZXNldF9yZXNvdXJjZV9pZCk7XHJcblxyXG5DUkVBVEUgU1BBVElBTCBJTkRFWCBpZHhfcmVjb3Jkc19nZW9tZXRyeSBPTiBfX1NDSEVNQV9fLnJlY29yZHMgKGdlb21ldHJ5KTtcclxuXHJcbkNSRUFURSBJTkRFWCBpZHhfcmVjb3Jkc19wcm9qZWN0X3Jlc291cmNlX2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyAocHJvamVjdF9yZXNvdXJjZV9pZCk7XHJcblxyXG4tLSBDUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfcmVjb3JkX2luZGV4IE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBnaW4gKHJlY29yZF9pbmRleCk7XHJcblxyXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfc2VydmVyX3VwZGF0ZWRfYXQgT04gX19TQ0hFTUFfXy5yZWNvcmRzIChzZXJ2ZXJfdXBkYXRlZF9hdCk7XHJcblxyXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfc2VydmVyX2NyZWF0ZWRfYXQgT04gX19TQ0hFTUFfXy5yZWNvcmRzIChzZXJ2ZXJfY3JlYXRlZF9hdCk7XHJcblxyXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfc3RhdHVzIE9OIF9fU0NIRU1BX18ucmVjb3JkcyAoc3RhdHVzKTtcclxuXHJcbklOU0VSVCBJTlRPIF9fU0NIRU1BX18ubWlncmF0aW9ucyAobmFtZSkgVkFMVUVTICgnMDAyJyk7XHJcblxyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5hdWRpbycsICdzeXN0ZW1fYXVkaW8nO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5jaGFuZ2VzZXRzJywgJ3N5c3RlbV9jaGFuZ2VzZXRzJztcclxuRVhFQyBzcF9yZW5hbWUgJ19fU0NIRU1BX18uY2hvaWNlX2xpc3RzJywgJ3N5c3RlbV9jaG9pY2VfbGlzdHMnO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5jbGFzc2lmaWNhdGlvbl9zZXRzJywgJ3N5c3RlbV9jbGFzc2lmaWNhdGlvbl9zZXRzJztcclxuRVhFQyBzcF9yZW5hbWUgJ19fU0NIRU1BX18uZm9ybXMnLCAnc3lzdGVtX2Zvcm1zJztcclxuRVhFQyBzcF9yZW5hbWUgJ19fU0NIRU1BX18ubWVtYmVyc2hpcHMnLCAnc3lzdGVtX21lbWJlcnNoaXBzJztcclxuRVhFQyBzcF9yZW5hbWUgJ19fU0NIRU1BX18ucGhvdG9zJywgJ3N5c3RlbV9waG90b3MnO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5wcm9qZWN0cycsICdzeXN0ZW1fcHJvamVjdHMnO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5yb2xlcycsICdzeXN0ZW1fcm9sZXMnO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5zaWduYXR1cmVzJywgJ3N5c3RlbV9zaWduYXR1cmVzJztcclxuRVhFQyBzcF9yZW5hbWUgJ19fU0NIRU1BX18udmlkZW9zJywgJ3N5c3RlbV92aWRlb3MnO1xyXG5FWEVDIHNwX3JlbmFtZSAnX19TQ0hFTUFfXy5yZWNvcmRzJywgJ3N5c3RlbV9yZWNvcmRzJztcclxuXHJcbkNPTU1JVCBUUkFOU0FDVElPTjtcclxuYDtcclxuIl19